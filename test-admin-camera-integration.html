<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Camera Integration Test</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Camera component styling similar to MobileCamera.tsx */
        .camera-container {
            position: relative;
            background: #f3f4f6;
            border-radius: 0.75rem;
            overflow: hidden;
            border: 2px dashed #d1d5db;
            transition: all 0.3s ease;
        }

        .camera-container.active {
            border-color: #3b82f6;
            background: #1f2937;
        }

        .camera-preview {
            width: 100%;
            height: auto;
            border-radius: 0.5rem;
        }

        .camera-controls {
            position: absolute;
            bottom: 1rem;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 0.75rem;
            background: rgba(0, 0, 0, 0.7);
            padding: 0.75rem;
            border-radius: 2rem;
            backdrop-filter: blur(8px);
        }

        .capture-button {
            width: 3.5rem;
            height: 3.5rem;
            border-radius: 50%;
            background: #ef4444;
            border: 4px solid white;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .capture-button:hover {
            transform: scale(1.05);
            background: #dc2626;
        }

        .capture-button:active {
            transform: scale(0.95);
        }

        .upload-zone {
            border: 2px dashed #d1d5db;
            border-radius: 0.75rem;
            padding: 2rem;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
            min-height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }

        .upload-zone:hover,
        .upload-zone.drag-over {
            border-color: #3b82f6;
            background: #eff6ff;
        }

        .upload-zone.active {
            border-color: #10b981;
            background: #f0fdf4;
        }

        /* Responsive camera interface */
        @media (max-width: 640px) {
            .camera-controls {
                bottom: 0.5rem;
                padding: 0.5rem;
                gap: 0.5rem;
            }

            .capture-button {
                width: 3rem;
                height: 3rem;
                border-width: 3px;
            }
        }

        /* Test result indicators */
        .test-result {
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            font-size: 0.875rem;
            font-weight: 500;
            margin: 0.25rem 0;
        }

        .test-result.success {
            background: #f0fdf4;
            color: #166534;
            border: 1px solid #bbf7d0;
        }

        .test-result.error {
            background: #fef2f2;
            color: #991b1b;
            border: 1px solid #fecaca;
        }

        .test-result.warning {
            background: #fffbeb;
            color: #92400e;
            border: 1px solid #fed7aa;
        }

        /* Admin-like form styling */
        .admin-field {
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 0.5rem;
            padding: 1rem;
            margin-bottom: 1rem;
        }

        .admin-label {
            display: block;
            font-size: 0.875rem;
            font-weight: 500;
            color: #374151;
            margin-bottom: 0.5rem;
        }

        .admin-input {
            width: 100%;
            padding: 0.625rem 0.875rem;
            border: 1px solid #d1d5db;
            border-radius: 0.375rem;
            font-size: 0.875rem;
            transition: all 0.15s ease;
        }

        .admin-input:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .admin-button {
            padding: 0.625rem 1.25rem;
            border-radius: 0.375rem;
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.15s ease;
            border: none;
        }

        .admin-button.primary {
            background: #3b82f6;
            color: white;
        }

        .admin-button.primary:hover {
            background: #2563eb;
        }

        .admin-button.secondary {
            background: #f3f4f6;
            color: #374151;
            border: 1px solid #d1d5db;
        }

        .admin-button.secondary:hover {
            background: #e5e7eb;
        }

        .admin-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <div class="max-w-4xl mx-auto p-4 sm:p-6 lg:p-8">
        <!-- Header -->
        <div class="mb-8">
            <h1 class="text-2xl sm:text-3xl font-bold text-gray-900 mb-2">
                üì∏ Admin Camera Integration Test
            </h1>
            <p class="text-gray-600">
                Comprehensive testing of camera functionality within admin interface context
            </p>
        </div>

        <!-- Test Status -->
        <div class="bg-white rounded-lg shadow-sm border p-6 mb-6">
            <h2 class="text-lg font-semibold text-gray-900 mb-4">Test Status</h2>
            <div id="test-results">
                <div class="test-result warning">Initializing camera tests...</div>
            </div>
        </div>

        <!-- Device Detection -->
        <div class="bg-white rounded-lg shadow-sm border p-6 mb-6">
            <h2 class="text-lg font-semibold text-gray-900 mb-4">Device Detection</h2>
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
                <div class="text-sm">
                    <span class="font-medium">Device Type:</span>
                    <span id="device-type" class="ml-2 text-gray-600">Detecting...</span>
                </div>
                <div class="text-sm">
                    <span class="font-medium">Touch Support:</span>
                    <span id="touch-support" class="ml-2 text-gray-600">Detecting...</span>
                </div>
                <div class="text-sm">
                    <span class="font-medium">Screen Size:</span>
                    <span id="screen-size" class="ml-2 text-gray-600">Detecting...</span>
                </div>
                <div class="text-sm">
                    <span class="font-medium">Camera API:</span>
                    <span id="camera-api" class="ml-2 text-gray-600">Detecting...</span>
                </div>
                <div class="text-sm">
                    <span class="font-medium">File API:</span>
                    <span id="file-api" class="ml-2 text-gray-600">Detecting...</span>
                </div>
                <div class="text-sm">
                    <span class="font-medium">Canvas API:</span>
                    <span id="canvas-api" class="ml-2 text-gray-600">Detecting...</span>
                </div>
            </div>
        </div>

        <!-- Admin Form with Camera Integration -->
        <div class="bg-white rounded-lg shadow-sm border p-6 mb-6">
            <h2 class="text-lg font-semibold text-gray-900 mb-4">Admin Form Integration</h2>

            <div class="admin-field">
                <label class="admin-label" for="hero-title">Hero Section Title</label>
                <input
                    type="text"
                    id="hero-title"
                    class="admin-input"
                    placeholder="Enter hero title..."
                    value="Welcome to Our Platform"
                />
            </div>

            <div class="admin-field">
                <label class="admin-label" for="hero-description">Hero Section Description</label>
                <textarea
                    id="hero-description"
                    class="admin-input"
                    rows="3"
                    placeholder="Enter hero description..."
                >Transform your business with our innovative solutions</textarea>
            </div>

            <div class="admin-field">
                <label class="admin-label">Hero Background Image</label>

                <!-- Camera Selection Interface -->
                <div class="mb-4">
                    <div class="flex flex-wrap gap-2 mb-4">
                        <button
                            id="camera-tab"
                            class="admin-button primary"
                            onclick="showCameraInterface()"
                        >
                            üì∑ Camera
                        </button>
                        <button
                            id="upload-tab"
                            class="admin-button secondary"
                            onclick="showUploadInterface()"
                        >
                            üìÅ Upload File
                        </button>
                        <button
                            id="gallery-tab"
                            class="admin-button secondary"
                            onclick="showGalleryInterface()"
                        >
                            üñºÔ∏è Gallery
                        </button>
                    </div>

                    <!-- Camera Interface -->
                    <div id="camera-interface" class="camera-interface">
                        <div id="camera-container" class="camera-container">
                            <video id="camera-preview" class="camera-preview" autoplay playsinline style="display: none;"></video>
                            <canvas id="camera-canvas" style="display: none;"></canvas>

                            <div id="camera-placeholder" class="flex items-center justify-center h-64 text-gray-500">
                                <div class="text-center">
                                    <svg class="h-16 w-16 mx-auto mb-4 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z" />
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 13a3 3 0 11-6 0 3 3 0 016 0z" />
                                    </svg>
                                    <p>Click "Start Camera" to begin</p>
                                </div>
                            </div>

                            <div id="camera-controls" class="camera-controls" style="display: none;">
                                <button id="capture-button" class="capture-button" onclick="capturePhoto()">
                                    <svg class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <circle cx="12" cy="12" r="10" strokeWidth="2" />
                                    </svg>
                                </button>
                                <button id="stop-camera" class="text-white hover:text-red-400 transition" onclick="stopCamera()">
                                    <svg class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
                                    </svg>
                                </button>
                            </div>
                        </div>

                        <div class="flex gap-2 mt-4">
                            <button id="start-camera" class="admin-button primary" onclick="startCamera()">
                                Start Camera
                            </button>
                            <button id="switch-camera" class="admin-button secondary" onclick="switchCamera()" disabled>
                                Switch Camera
                            </button>
                        </div>
                    </div>

                    <!-- Upload Interface -->
                    <div id="upload-interface" class="upload-interface" style="display: none;">
                        <div id="upload-zone" class="upload-zone" ondrop="handleDrop(event)" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)">
                            <svg class="h-12 w-12 mx-auto mb-4 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" />
                            </svg>
                            <p class="text-gray-600 mb-2">Drag and drop images here</p>
                            <p class="text-sm text-gray-500 mb-4">or</p>
                            <button class="admin-button primary" onclick="triggerFileInput()">
                                Browse Files
                            </button>
                            <input type="file" id="file-input" accept="image/*" style="display: none;" onchange="handleFileSelect(event)" />
                        </div>
                    </div>

                    <!-- Gallery Interface -->
                    <div id="gallery-interface" class="gallery-interface" style="display: none;">
                        <div class="text-center py-8 text-gray-500">
                            <svg class="h-16 w-16 mx-auto mb-4 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
                            </svg>
                            <p>Gallery feature coming soon</p>
                            <p class="text-sm text-gray-400 mt-2">Previously uploaded images will appear here</p>
                        </div>
                    </div>
                </div>

                <!-- Image Preview -->
                <div id="image-preview" class="mt-4" style="display: none;">
                    <div class="relative inline-block">
                        <img id="preview-img" src="" alt="Preview" class="max-w-full h-auto rounded-lg border" />
                        <button
                            onclick="removeImage()"
                            class="absolute top-2 right-2 bg-red-500 text-white rounded-full p-2 hover:bg-red-600 transition"
                        >
                            <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
                            </svg>
                        </button>
                    </div>
                    <div class="mt-2 text-sm text-gray-600">
                        <span id="image-info"></span>
                    </div>
                </div>
            </div>

            <div class="admin-field">
                <label class="admin-label" for="cta-button">CTA Button Text</label>
                <input
                    type="text"
                    id="cta-button"
                    class="admin-input"
                    placeholder="Enter CTA button text..."
                    value="Get Started"
                />
            </div>

            <div class="flex gap-4">
                <button class="admin-button primary" onclick="saveForm()">
                    Save Changes
                </button>
                <button class="admin-button secondary" onclick="resetForm()">
                    Reset
                </button>
            </div>
        </div>

        <!-- Test Results Summary -->
        <div class="bg-white rounded-lg shadow-sm border p-6">
            <h2 class="text-lg font-semibold text-gray-900 mb-4">Test Summary</h2>
            <div id="test-summary" class="space-y-2">
                <p class="text-gray-600">Run tests to see results...</p>
            </div>
        </div>
    </div>

    <script>
        // Global state
        let cameraStream = null;
        let currentFacingMode = 'user';
        let capturedImage = null;
        let testResults = {
            deviceDetection: false,
            cameraAPI: false,
            cameraPermission: false,
            photoCapture: false,
            fileUpload: false,
            dragDrop: false,
            responsiveInterface: false,
            formIntegration: false
        };

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            detectDeviceCapabilities();
            runAllTests();
        });

        // Device capability detection
        function detectDeviceCapabilities() {
            const deviceType = window.innerWidth < 768 ? 'Mobile' :
                            window.innerWidth < 1024 ? 'Tablet' : 'Desktop';

            const hasTouch = 'ontouchstart' in window;
            const hasCameraAPI = !!(navigator.mediaDevices && navigator.mediaDevices.getUserMedia);
            const hasFileAPI = !!(window.File && window.FileReader && window.FileList && window.Blob);
            const hasCanvasAPI = !!(document.createElement('canvas').getContext);

            document.getElementById('device-type').textContent = deviceType;
            document.getElementById('touch-support').textContent = hasTouch ? '‚úÖ Supported' : '‚ùå Not supported';
            document.getElementById('screen-size').textContent = `${window.innerWidth}x${window.innerHeight}`;
            document.getElementById('camera-api').textContent = hasCameraAPI ? '‚úÖ Supported' : '‚ùå Not supported';
            document.getElementById('file-api').textContent = hasFileAPI ? '‚úÖ Supported' : '‚ùå Not supported';
            document.getElementById('canvas-api').textContent = hasCanvasAPI ? '‚úÖ Supported' : '‚ùå Not supported';

            testResults.deviceDetection = true;
            testResults.cameraAPI = hasCameraAPI;
            testResults.responsiveInterface = true;

            updateTestResults();
        }

        // Camera interface functions
        function showCameraInterface() {
            hideAllInterfaces();
            document.getElementById('camera-interface').style.display = 'block';
            updateTabStyles('camera-tab');
            testResults.formIntegration = true;
            updateTestResults();
        }

        function showUploadInterface() {
            hideAllInterfaces();
            document.getElementById('upload-interface').style.display = 'block';
            updateTabStyles('upload-tab');
            testResults.formIntegration = true;
            updateTestResults();
        }

        function showGalleryInterface() {
            hideAllInterfaces();
            document.getElementById('gallery-interface').style.display = 'block';
            updateTabStyles('gallery-tab');
            testResults.formIntegration = true;
            updateTestResults();
        }

        function hideAllInterfaces() {
            document.getElementById('camera-interface').style.display = 'none';
            document.getElementById('upload-interface').style.display = 'none';
            document.getElementById('gallery-interface').style.display = 'none';
        }

        function updateTabStyles(activeTabId) {
            ['camera-tab', 'upload-tab', 'gallery-tab'].forEach(tabId => {
                const tab = document.getElementById(tabId);
                if (tabId === activeTabId) {
                    tab.className = 'admin-button primary';
                } else {
                    tab.className = 'admin-button secondary';
                }
            });
        }

        // Camera functionality
        async function startCamera() {
            const startButton = document.getElementById('start-camera');
            const placeholder = document.getElementById('camera-placeholder');
            const preview = document.getElementById('camera-preview');
            const controls = document.getElementById('camera-controls');
            const container = document.getElementById('camera-container');

            try {
                startButton.disabled = true;
                startButton.textContent = 'Starting Camera...';

                const constraints = {
                    video: {
                        width: { ideal: 1920 },
                        height: { ideal: 1080 },
                        facingMode: currentFacingMode
                    },
                    audio: false
                };

                cameraStream = await navigator.mediaDevices.getUserMedia(constraints);

                preview.srcObject = cameraStream;
                preview.style.display = 'block';
                placeholder.style.display = 'none';
                controls.style.display = 'flex';
                container.classList.add('active');

                startButton.textContent = 'Camera Active';
                testResults.cameraPermission = true;
                addTestResult('success', 'Camera permissions granted and stream started');

            } catch (error) {
                console.error('Camera error:', error);
                startButton.disabled = false;
                startButton.textContent = 'Start Camera';

                let errorMessage = 'Failed to start camera';
                if (error.name === 'NotAllowedError') {
                    errorMessage = 'Camera permission denied';
                } else if (error.name === 'NotFoundError') {
                    errorMessage = 'No camera found';
                } else if (error.name === 'NotReadableError') {
                    errorMessage = 'Camera already in use';
                }

                addTestResult('error', `Camera error: ${errorMessage}`);
            }
        }

        function stopCamera() {
            if (cameraStream) {
                cameraStream.getTracks().forEach(track => track.stop());
                cameraStream = null;
            }

            const preview = document.getElementById('camera-preview');
            const placeholder = document.getElementById('camera-placeholder');
            const controls = document.getElementById('camera-controls');
            const container = document.getElementById('camera-container');
            const startButton = document.getElementById('start-camera');

            preview.style.display = 'none';
            placeholder.style.display = 'flex';
            controls.style.display = 'none';
            container.classList.remove('active');
            startButton.disabled = false;
            startButton.textContent = 'Start Camera';
        }

        async function switchCamera() {
            currentFacingMode = currentFacingMode === 'user' ? 'environment' : 'user';
            stopCamera();
            await startCamera();
        }

        function capturePhoto() {
            const video = document.getElementById('camera-preview');
            const canvas = document.getElementById('camera-canvas');
            const context = canvas.getContext('2d');

            if (!video.videoWidth || !video.videoHeight) {
                addTestResult('error', 'Video not ready for capture');
                return;
            }

            canvas.width = video.videoWidth;
            canvas.height = video.videoHeight;
            context.drawImage(video, 0, 0);

            canvas.toBlob((blob) => {
                if (blob && blob.size > 0) {
                    const url = URL.createObjectURL(blob);
                    displayCapturedImage(url, blob);
                    testResults.photoCapture = true;
                    addTestResult('success', `Photo captured: ${canvas.width}x${canvas.height}, ${(blob.size / 1024).toFixed(1)}KB`);
                    stopCamera();
                } else {
                    addTestResult('error', 'Failed to capture photo');
                }
            }, 'image/jpeg', 0.9);
        }

        // File upload functionality
        function triggerFileInput() {
            document.getElementById('file-input').click();
        }

        function handleFileSelect(event) {
            const file = event.target.files[0];
            if (file && file.type.startsWith('image/')) {
                const reader = new FileReader();
                reader.onload = (e) => {
                    displayCapturedImage(e.target.result, file);
                    testResults.fileUpload = true;
                    addTestResult('success', `File uploaded: ${file.name}, ${(file.size / 1024).toFixed(1)}KB`);
                };
                reader.readAsDataURL(file);
            }
        }

        function handleDragOver(event) {
            event.preventDefault();
            document.getElementById('upload-zone').classList.add('drag-over');
        }

        function handleDragLeave(event) {
            event.preventDefault();
            document.getElementById('upload-zone').classList.remove('drag-over');
        }

        function handleDrop(event) {
            event.preventDefault();
            document.getElementById('upload-zone').classList.remove('drag-over');

            const files = event.dataTransfer.files;
            if (files.length > 0) {
                const file = files[0];
                if (file.type.startsWith('image/')) {
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        displayCapturedImage(e.target.result, file);
                        testResults.dragDrop = true;
                        addTestResult('success', `Drag & drop: ${file.name}, ${(file.size / 1024).toFixed(1)}KB`);
                    };
                    reader.readAsDataURL(file);
                }
            }
        }

        // Image display functions
        function displayCapturedImage(url, source) {
            const preview = document.getElementById('image-preview');
            const img = document.getElementById('preview-img');
            const info = document.getElementById('image-info');

            img.src = url;
            preview.style.display = 'block';

            // Display image info
            if (source instanceof Blob) {
                info.textContent = `Captured image - Size: ${(source.size / 1024).toFixed(1)}KB`;
            } else if (source instanceof File) {
                info.textContent = `${source.name} - Size: ${(source.size / 1024).toFixed(1)}KB`;
            } else {
                info.textContent = 'Image captured/uploaded successfully';
            }

            capturedImage = url;
            hideAllInterfaces();
        }

        function removeImage() {
            const preview = document.getElementById('image-preview');
            const img = document.getElementById('preview-img');

            if (img.src && img.src.startsWith('blob:')) {
                URL.revokeObjectURL(img.src);
            }

            preview.style.display = 'none';
            img.src = '';
            capturedImage = null;

            showCameraInterface(); // Show camera interface again
        }

        // Form functions
        function saveForm() {
            const formData = {
                heroTitle: document.getElementById('hero-title').value,
                heroDescription: document.getElementById('hero-description').value,
                heroImage: capturedImage,
                ctaButton: document.getElementById('cta-button').value
            };

            console.log('Form data saved:', formData);
            addTestResult('success', 'Form data saved successfully');

            // Simulate save operation
            setTimeout(() => {
                alert('Form saved successfully! (This is a test simulation)');
            }, 500);
        }

        function resetForm() {
            document.getElementById('hero-title').value = 'Welcome to Our Platform';
            document.getElementById('hero-description').value = 'Transform your business with our innovative solutions';
            document.getElementById('cta-button').value = 'Get Started';
            removeImage();
            addTestResult('success', 'Form reset successfully');
        }

        // Test functions
        function addTestResult(type, message) {
            const resultsContainer = document.getElementById('test-results');
            const resultDiv = document.createElement('div');
            resultDiv.className = `test-result ${type}`;
            resultDiv.textContent = message;
            resultsContainer.appendChild(resultDiv);

            // Auto-scroll to latest result
            resultsContainer.scrollTop = resultsContainer.scrollHeight;
        }

        function updateTestResults() {
            const summaryContainer = document.getElementById('test-summary');
            const tests = [
                { name: 'Device Detection', passed: testResults.deviceDetection },
                { name: 'Camera API Support', passed: testResults.cameraAPI },
                { name: 'Camera Permissions', passed: testResults.cameraPermission },
                { name: 'Photo Capture', passed: testResults.photoCapture },
                { name: 'File Upload', passed: testResults.fileUpload },
                { name: 'Drag & Drop', passed: testResults.dragDrop },
                { name: 'Responsive Interface', passed: testResults.responsiveInterface },
                { name: 'Form Integration', passed: testResults.formIntegration }
            ];

            const passedCount = tests.filter(test => test.passed).length;
            const totalCount = tests.length;
            const score = (passedCount / totalCount) * 100;

            let summaryHTML = `
                <div class="mb-4">
                    <div class="text-lg font-semibold mb-2">Overall Score: ${score.toFixed(1)}%</div>
                    <div class="w-full bg-gray-200 rounded-full h-3">
                        <div class="bg-blue-500 h-3 rounded-full transition-all duration-500" style="width: ${score}%"></div>
                    </div>
                </div>
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-2">
            `;

            tests.forEach(test => {
                summaryHTML += `
                    <div class="flex items-center space-x-2">
                        <span class="${test.passed ? 'text-green-500' : 'text-red-500'}">
                            ${test.passed ? '‚úì' : '‚úó'}
                        </span>
                        <span class="text-sm">${test.name}</span>
                    </div>
                `;
            });

            summaryHTML += '</div>';
            summaryContainer.innerHTML = summaryHTML;
        }

        function runAllTests() {
            addTestResult('warning', 'Starting comprehensive camera integration tests...');

            // Test device capabilities (already called on load)

            // Test responsive interface
            setTimeout(() => {
                const isResponsive = window.innerWidth >= 320 && window.innerWidth <= 1920;
                if (isResponsive) {
                    addTestResult('success', 'Responsive interface verified');
                } else {
                    addTestResult('warning', 'Interface may need responsive adjustments');
                }
            }, 1000);

            // Test form inputs
            setTimeout(() => {
                const titleInput = document.getElementById('hero-title');
                const descInput = document.getElementById('hero-description');

                if (titleInput && descInput) {
                    addTestResult('success', 'Form inputs initialized correctly');
                } else {
                    addTestResult('error', 'Form inputs not found');
                }
            }, 1500);

            // Final summary
            setTimeout(() => {
                const score = Object.values(testResults).filter(Boolean).length / Object.keys(testResults).length * 100;
                if (score >= 80) {
                    addTestResult('success', 'üéâ Camera integration test completed successfully!');
                } else if (score >= 60) {
                    addTestResult('warning', '‚úÖ Camera integration test completed with minor issues');
                } else {
                    addTestResult('error', '‚ö†Ô∏è Camera integration needs improvements');
                }
            }, 2000);
        }

        // Handle window resize for responsive testing
        window.addEventListener('resize', () => {
            document.getElementById('screen-size').textContent = `${window.innerWidth}x${window.innerHeight}`;
        });
    </script>
</body>
</html>